import{_ as a,c as n,o as l,ae as t,j as s}from"./chunks/framework.DJWEhhqZ.js";const o=JSON.parse('{"title":"核心模块⭐⭐","description":"","frontmatter":{},"headers":[],"relativePath":"nodejs/node.js/核心模块.md","filePath":"nodejs/node.js/核心模块.md"}'),e={name:"nodejs/node.js/核心模块.md"};function p(h,i,k,d,r,E){return l(),n("div",null,[...i[0]||(i[0]=[t(`<h1 id="核心模块⭐⭐" tabindex="-1">核心模块⭐⭐ <a class="header-anchor" href="#核心模块⭐⭐" aria-label="Permalink to &quot;核心模块⭐⭐&quot;">​</a></h1><h2 id="路径-path模块" tabindex="-1">路径-path模块 <a class="header-anchor" href="#路径-path模块" aria-label="Permalink to &quot;路径-path模块&quot;">​</a></h2><p>Node.js path 模块提供了一些用于处理文件路径的小工具，我们可以通过以下方式引入该模块：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><strong>常用属性</strong></p><table tabindex="0"><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td>path.sep</td><td>平台的文件路径分隔符，&#39;&#39; 或 &#39;/&#39;。</td></tr><tr><td>path.delimiter</td><td>提供平台特定的路径定界符&#39;;&#39;或&#39;:&#39;。</td></tr></tbody></table><p><strong>常用方法</strong></p><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td>path.normalize(path)</td><td>规范化路径，注意&#39;..&#39; 和 &#39;.&#39;</td></tr><tr><td>path.join(path1[, ...])</td><td>用于连接路径。该方法的主要用途在于，会正确使用当前系统的路径分隔符，Unix系统是&quot;/&quot;，Windows系统是&quot;&quot;。</td></tr><tr><td>path.resolve([...paths])</td><td>将路径解析为绝对路径。</td></tr><tr><td>path.isAbsolute(path)</td><td>判断参数 path 是否是绝对路径。</td></tr><tr><td>path.relative(from, to)</td><td>用于将路径转为相对路径。</td></tr><tr><td>path.dirname(p)</td><td>返回路径中代表文件夹名</td></tr><tr><td>path.basename(p[, ext])</td><td>返回路径中的文件名</td></tr><tr><td>path.extname(p)</td><td>返回路径中文件的后缀名，即路径中最后一个&#39;.&#39;之后的部分</td></tr><tr><td>path.parse(pathString)</td><td>返回路径字符串的对象</td></tr><tr><td>path.format(pathObject)</td><td>从对象中返回路径字符串( path.parse 相反)</td></tr></tbody></table><h2 id="文件系统-fs模块" tabindex="-1">文件系统-fs模块 <a class="header-anchor" href="#文件系统-fs模块" aria-label="Permalink to &quot;文件系统-fs模块&quot;">​</a></h2><blockquote><p>fs模块用于对系统文件及目录进行操作，它提供了文件的读取、写入、更名、删除、遍历目录等文件系统操作。fs 模块中所有的操作都提供了异步和同步的两个版本，例如读取文件内容的函数有异步的 <code>fs.readFile()</code> 和同步的 <code>fs.readFileSync()</code>。</p><p>与时间、网络、文件都会涉及到异步操作</p></blockquote><p>要使用fs模块需要通过如下命令该模块。</p><div class="language-JS vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><strong>文件的操作：读取、写入、追加、删除、拷贝</strong></p><table tabindex="0"><thead><tr><th>方法</th><th>描述</th><th>返回值</th></tr></thead><tbody><tr><td><code>fs.readFile(filename,[option],callback)</code></td><td>异步读取文件</td><td>如果未指定编码，数据作为buffer对象返回。否则，数据将是一个字符串</td></tr><tr><td><code>fs.readFileSync(file[, options])</code></td><td>同步读取文件</td><td>如果未指定编码，数据作为buffer对象返回。否则，数据将是一个字符串</td></tr><tr><td><code>fs.writeFile(filename,data,[options],callback)</code></td><td>异步写入文件</td><td></td></tr><tr><td><code>fs.writeFileSync(file, data[, options])</code></td><td>同步写入文件</td><td></td></tr><tr><td><code>fs.appendFile(file,data,[,options],callback())</code></td><td>异步追加写入文件末尾</td><td></td></tr><tr><td><code>fs.appendFileSync(file, data[, options])</code></td><td>同步追加写入文件末尾</td><td></td></tr><tr><td><code>fs.unlink(path,callback)</code></td><td>异步删除文件</td><td></td></tr><tr><td><code>fs.unlinkSync(path)</code></td><td>同步删除文件</td><td></td></tr><tr><td><code>fs.copyFile(src, dest[, flags], callback)</code></td><td>异步拷贝文件</td><td></td></tr><tr><td><code>fs.copyFileSync(src, dest[, flags])</code></td><td>同步拷贝文件</td><td></td></tr></tbody></table><p><strong>文件夹的操作：创建、删除、读取</strong></p><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><code>fs.mkdir(path,[mode],callback)</code></td><td>异步创建目录(创建目录时，父目录必须存在)</td></tr><tr><td><code>fs.mkdirSync(path[, mode])</code></td><td>同步创建目录（每次只创建一级）</td></tr><tr><td><code>fs.rmdir(path,callback)</code></td><td>异步删除目录（只删除空文件夹）</td></tr><tr><td><code>fs.rmdirSync(path)</code></td><td>同步删除目录</td></tr><tr><td><code>fs.readdir(path,callback)</code></td><td>异步读取目录下所有文件</td></tr><tr><td><code>fs.readdirSync(path[, options])</code></td><td>同步读取目录下所有文件</td></tr></tbody></table><p><strong>其它常用文件操作</strong></p><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><code>fs.existsSync(path)</code></td><td>判断文件/文件夹是否存在，如果文件存在，则返回 true，否则返回 false。</td></tr><tr><td><code>fs.rename(oldPath,newPath,callback)</code></td><td>将 <code>oldPath</code> 处的文件或目录异步重命名为作为 <code>newPath</code> 提供的路径名。</td></tr><tr><td><code>fs.renameSync(oldPath, newPath)</code></td><td>将 <code>oldPath</code> 处的文件或目录同步重命名为作为 <code>newPath</code> 提供的路径名。</td></tr><tr><td><code>fs.rm(path[, options], callback)</code></td><td>异步地删除文件和目录【推荐使用】</td></tr><tr><td><code>fs.rmSync(path[, options])</code></td><td>同步地删除文件和目录【推荐使用】</td></tr><tr><td><code>fs.stat(path, callback)</code></td><td>异步查看文件或文件夹状态 callback(err,stats)</td></tr><tr><td><code>fs.statSync(path)</code></td><td>同步的查看文件或文件夹状态，返回一个 fs.Stats 实例</td></tr><tr><td><code>stats.isFile()</code></td><td>判断是否为文件</td></tr><tr><td><code>stats.isDirectory()</code></td><td>判断是否为目录</td></tr><tr><td><code>stats.size</code></td><td>文件的大小（以字节为单位）。</td></tr></tbody></table><p><strong>创建深层目录及文件</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 声明要创建的目录</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./a/b/c/d&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./1/2/3/4/5/6&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 逐层创建文件夹封装</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> make</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 分割字符串变数组</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 声明一个空变量</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    arr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 循环中目录字符串拼接赋值给e</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 如果是./就跳过该循环</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // 判断e文件是否存在</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">existsSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e)) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                // 创建e文件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdirSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;文件已存在&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(p);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d);</span></span></code></pre></div><p><strong>删除非空文件夹</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dele</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 清空文件</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //读取所有文件</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rea </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readdirSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // [ &#39;dewfe&#39;, &#39;dferf.txt&#39;, &#39;dsdsefd.app&#39;, &#39;fasds.png&#39; ]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 拿到每个文件</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rea.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 连接路径</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dirpath </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> depath.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path, rea[i])</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 查看文件状态</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stat </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">statSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dirpath);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 判断是文件还是目录</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (stat.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // 是文件就删除</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unlinkSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dirpath);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // 不是文件就进行递归</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            dele</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dirpath);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 删除目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rmdirSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dele</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><strong>查看文件或文件夹状态</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>fs.stat(path, callback)</span></span></code></pre></div><ul><li>path</li><li>callback err,stat</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>fs.stat(&#39;./test&#39;,function(err,stats){</span></span>
<span class="line"><span>    stats.isFile() //判断是否为文件</span></span>
<span class="line"><span>    stats.isDirectory() //判断是否为目录</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>fs.statSync(path)</span></span></code></pre></div><ul><li>path 返回一个 fs.Stats 实例。</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>{</span></span>
<span class="line"><span>  dev: 115759,</span></span>
<span class="line"><span>  mode: 16822,</span></span>
<span class="line"><span>  nlink: 1,</span></span>
<span class="line"><span>  uid: 0,</span></span>
<span class="line"><span>  gid: 0,</span></span>
<span class="line"><span>  rdev: 0,</span></span>
<span class="line"><span>  blksize: undefined,</span></span>
<span class="line"><span>  ino: 7881299347905749,</span></span>
<span class="line"><span>  size: 0,</span></span>
<span class="line"><span>  blocks: undefined,</span></span>
<span class="line"><span>  atimeMs: 1498637534631.3472,</span></span>
<span class="line"><span>  mtimeMs: 1498637534631.3472,</span></span>
<span class="line"><span>  ctimeMs: 1498637534631.3472,</span></span>
<span class="line"><span>  birthtimeMs: 1498637534631.3472,</span></span>
<span class="line"><span>  atime: 2017-06-28T08:12:14.631Z,</span></span>
<span class="line"><span>  mtime: 2017-06-28T08:12:14.631Z,</span></span>
<span class="line"><span>  ctime: 2017-06-28T08:12:14.631Z,</span></span>
<span class="line"><span>  birthtime: 2017-06-28T08:12:14.631Z</span></span>
<span class="line"><span>}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>dev</td><td>文件或者目录所在设备ID</td></tr><tr><td>ino</td><td>文件或者目录的索引编号</td></tr><tr><td>mode</td><td>使用数值形式代表的文件或目录的权限标志</td></tr><tr><td>nlink</td><td>文件或者目录的硬连接数量</td></tr><tr><td>uid</td><td>文件或者目录的所有者的用户ID</td></tr><tr><td>gid</td><td>文件或目录的所有者的组ID</td></tr><tr><td>rdev</td><td>字符设备文件或块设备文件所在设备ID</td></tr><tr><td>size</td><td>文件尺寸(即文件中的字节数)</td></tr><tr><td>atime</td><td>&quot;访问时间&quot; - 文件数据最近被访问的时间</td></tr><tr><td>mtime</td><td>&quot;修改时间&quot; - 文件数据最近被修改的时间</td></tr><tr><td>ctime</td><td>&quot;变化时间&quot; - 文件状态最近更改的时间（修改索引节点数据）</td></tr><tr><td>birthtime</td><td>&quot;创建时间&quot; - 文件创建的时间。 当文件被创建时设定一次</td></tr></tbody></table><h2 id="url模块" tabindex="-1">url模块 <a class="header-anchor" href="#url模块" aria-label="Permalink to &quot;url模块&quot;">​</a></h2><blockquote><p><strong>URL的组成</strong></p><p>包括：协议(protocol)、主机名（包括端口信息）(host)、路径(pathname)、文件名部分(search)、参数部分(query)、锚部分(hash)</p></blockquote><p><strong>URL类使用</strong></p><blockquote><p>这个用于实例化 URL 对象，即将传入的 URL 字符串解析成 URL 对象。</p><p>接受两个参数</p><ul><li>第一个参数为：表示要解析的绝对或相对的 URL。如果 input 是相对路径，则需要 base。 如果 input 是绝对路径，则忽略 base。</li><li>第二个参数为：如果 input 不是绝对路径，则为要解析的基本 URL</li></ul></blockquote><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/foo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://example.org/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// https://example.org/foo</span></span></code></pre></div><table tabindex="0"><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>hash</td><td>获取及设置 URL 的片段部分。即 # 符号之后的内容</td></tr><tr><td>host</td><td>获取及设置 URL 的主机部分</td></tr><tr><td>hostname</td><td>获取及设置 URL 的主机名部分。 url.host 和 url.hostname 之间的区别是 url.hostname 不包含端口</td></tr><tr><td>href</td><td>获取及设置序列化的 URL。即整个URL 字符串</td></tr><tr><td>origin</td><td>获取只读的序列化的 URL 的 origin</td></tr><tr><td>username</td><td>获取及设置 URL 的用户名部分</td></tr><tr><td>password</td><td>获取及设置 URL 的密码部分</td></tr><tr><td>pathname</td><td>获取及设置 URL 的路径部分</td></tr><tr><td>port</td><td>获取及设置 URL 的端口部分</td></tr><tr><td>protocol</td><td>获取及设置 URL 的协议部分</td></tr><tr><td>search</td><td>获取及设置 URL 的序列化查询部分</td></tr><tr><td>searchParams</td><td>获取表示 URL 查询参数的 URLSearchParams 对象。该属性属于只读属性，但是可以通过 search属性去修改</td></tr></tbody></table><p><strong>查询字符串方法</strong></p><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td>searchParams.get(&quot;&quot;)</td><td>查询字符串</td></tr><tr><td>searchParams.set(&quot;&quot;,&quot;&quot;)</td><td>在参数对象中修改字段</td></tr><tr><td>searchParams.append(&quot;&quot;,&quot;&quot;)</td><td>在参数对象中追加字段</td></tr><tr><td>searchParams.delete(&quot;&quot;)</td><td>在参数对象中删除字段</td></tr></tbody></table><p><strong>url模块使用</strong></p><blockquote><p>该url模块提供了URL解析和分析工具。它可以使用：</p></blockquote><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;url&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>对于一个 URL 字符串，其组成部分会有所有不同，其中有些部分只有在URL字符串中存在时，对应字段才会出现在解析后对象中。以下是一个 URL 例子：</p><blockquote><p><a href="http://user:pass@host.com:8080/p/a/t/h?query=string#hash" target="_blank" rel="noreferrer">http://user:pass@host.com:8080/p/a/t/h?query=string#hash</a></p></blockquote><p><strong>URL对象字段</strong></p>`,43),s("table",{tabindex:"0"},[s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"left"}},"参数"),s("th",{style:{"text-align":"left"}},"描述"),s("th",{style:{"text-align":"left"}},"示例")])]),s("tbody",null,[s("tr",null,[s("td",{style:{"text-align":"left"}},"href"),s("td",{style:{"text-align":"left"}},"解析前的完整原始 URL，协议名和主机名已转为小写"),s("td",{style:{"text-align":"left"}},[s("a",{href:"http://user:pass@host.com:8080/p/a/t/h?query=string#hash",target:"_blank",rel:"noreferrer"},"http://user:pass@host.com:8080/p/a/t/h?query=string#hash")])]),s("tr",null,[s("td",{style:{"text-align":"left"}},"protocol"),s("td",{style:{"text-align":"left"}},"请求协议，小写"),s("td",{style:{"text-align":"left"}},"http:")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"slashes"),s("td",{style:{"text-align":"left"}},'协议的"："号后是否有"/"'),s("td",{style:{"text-align":"left"}},"true or false")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"host"),s("td",{style:{"text-align":"left"}},"URL主机名，包括端口信息，小写"),s("td",{style:{"text-align":"left"}},"'host.com:8080'")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"auth"),s("td",{style:{"text-align":"left"}},"URL中的认证信息"),s("td",{style:{"text-align":"left"}},"'user:pass'")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"hostname"),s("td",{style:{"text-align":"left"}},"主机名，小写"),s("td",{style:{"text-align":"left"}},"'host.com'")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"port"),s("td",{style:{"text-align":"left"}},"主机的端口号"),s("td",{style:{"text-align":"left"}},"'8080'")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"pathname"),s("td",{style:{"text-align":"left"}},"URL中路径"),s("td",{style:{"text-align":"left"}},"'/p/a/t/h'")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"search"),s("td",{style:{"text-align":"left"}},"查询对象，即：queryString，包括之前的问号“?”"),s("td",{style:{"text-align":"left"}},"'?query=string'")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"path"),s("td",{style:{"text-align":"left"}},"pathname 和 search的合集"),s("td",{style:{"text-align":"left"}},"'/p/a/t/h?query=string'")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"query"),s("td",{style:{"text-align":"left"}},"查询字符串中的参数部分（问号后面部分字符串）"),s("td",{style:{"text-align":"left"},"query:string":""},"'query=string' or")]),s("tr",null,[s("td",{style:{"text-align":"left"}},"hash"),s("td",{style:{"text-align":"left"}},"锚点部分（即：“#”及其后的部分）"),s("td",{style:{"text-align":"left"}},"'#hash'")])])],-1),t(`<p><strong>url方法</strong></p><table tabindex="0"><thead><tr><th>方法</th><th>描述</th><th>参数</th><th>返回值</th></tr></thead><tbody><tr><td>url.parse()</td><td>用于URL字符串转换为对象</td><td>URL字符串</td><td>解析后返回一个JSON对象</td></tr><tr><td>url.format(urlObj)</td><td>将对象格式化为URL字符串</td><td>URL对象</td><td>返回格式化后的 URL 字符串</td></tr><tr><td>url.resolve(from, to)</td><td>用于处理URL路径，也可以用于处理锚点</td><td><strong>from:</strong> (类型：字符串)要解析的基本URL。 <strong>to：</strong>(类型：字符串)正在解析的“href” URL。</td><td>它从from到to中的给定参数,返回解析的URL。</td></tr></tbody></table><p><strong>queryString 模块</strong></p><p>加载模块</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> qs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;querystring&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>查询字符串主要由两个方法和内置格式化方法组成，一个是将对象转换为字符串，一个则是相反，将字符串转换为对象：</p><table tabindex="0"><thead><tr><th style="text-align:left;">方法</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">querystring.stringify(obj, [sep], [eq])</td><td style="text-align:left;">将JSON对象格式化为查询字符串格式的字符串</td></tr><tr><td style="text-align:left;">querystring.parse(str, [sep], [eq], [options])</td><td style="text-align:left;">根据“&amp;”和“=”将字符串进行分割，反序列化为JSON对象</td></tr></tbody></table><h2 id="crypto加密模块" tabindex="-1">Crypto加密模块 <a class="header-anchor" href="#crypto加密模块" aria-label="Permalink to &quot;Crypto加密模块&quot;">​</a></h2><blockquote><p>Crypto模块是随Nodejs内核一起打包发布的，主要提供了加密、解密、签名、验证等功能。它提供了一种安全凭证的封装方式，可以用于HTTPS安全网络以及普通HTTP连接。Crypto模块需要底层系统提供OpenSSL的支持，它提供OpenSSL中的一系列哈希方法，包括hash（哈希），hmac（密钥哈希），cipher（编码），decipher（解码），sign（签名）以及verify（验证）等方法的封装。</p></blockquote><p><strong>使用场景：</strong></p><ul><li>对比两个文件的内容是否相同；</li><li>生成 token；</li><li>密码保护；</li></ul><p><strong>加载Crypto模块</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> crypto</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;crypto&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cropto.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">randomUUID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//生成加密安全随机数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cropto.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">randomInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//同步或异步创建随机整数</span></span></code></pre></div><p><strong>Hash算法</strong></p><blockquote><p><strong>Hash算法</strong>也称为<strong>哈希算法</strong>，是指将任意长度的二进制值串映射为固定长度的二进制值串。原始数据经过映射之后得到的二进制值串就是哈希值。</p></blockquote><p>特性</p><ul><li>哈希值是一段数据唯一且极其紧凑的数值表示形式</li><li>从哈希值不能反向推导出原始数据（哈希算法更多算是一种单向加密算法，不可逆）</li><li>对输入数据敏感，输入数据只要改变 1 bit，那么最终得到的哈希值也不相同</li><li>即对于不同的原始数据，哈希值在计算上是不可能的相同的</li><li>同样的原始数据，在哈希算法后的输出结果是一样的</li><li>哈希算法的执行效率要高，针对较长的文本，也能快速计算出哈希值</li></ul><p><strong>MD5加密算法</strong></p><blockquote><p>MD5 算法的哈希值大小为 128 位。是一种不可逆的算法。</p><p>MD5是一种常用的哈希算法，用于给任意数据一个“签名”。这个签名通常用一个十六进制的字符串表示。</p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;crypto&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> content </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;password&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> md5 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createHash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;md5&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//双工流</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">md5.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(content);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> md5.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">digest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hex&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//hex代表十六进制  MD5值是5f4dcc3b5aa765d61d8327deb882cf99</span></span></code></pre></div><p><strong>SHA1算法</strong></p><blockquote><p>加密哈希函数将任意长度的二进制字符串映射为固定长度的小型二进制字符串。SHA1 算法的哈希值大小为 160 位。是一种不可逆的算法。</p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;crypto&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> content </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;password&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> shasum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createHash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sha1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">shasum.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(content);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> shasum.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">digest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hex&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p><strong>Hmac算法</strong></p><blockquote><p>HMAC是密钥相关的哈希运算消息认证码,HMAC运算利用哈希算法，以一个密钥和一个消息为输入，生成一个消息摘要作为输出。</p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;crypto&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Signture </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createHmac</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sha1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, SecrectKey); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//SecrectKey 秘钥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Signture.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(content);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Signture.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">digest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hex&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><strong>AES加密</strong></p><blockquote><p>AES是一种常用的对称加密算法，加解密都用同一个密钥。</p></blockquote><p><strong>Hash算法评估</strong></p><table tabindex="0"><thead><tr><th style="text-align:left;">类型</th><th style="text-align:left;">耗时(ms)</th><th>密文</th></tr></thead><tbody><tr><td style="text-align:left;">md5</td><td style="text-align:left;">6ms</td><td>85cd416f811574bd4bdb61b241266670</td></tr><tr><td style="text-align:left;">sha</td><td style="text-align:left;">18ms</td><td>b1fc6647fa4fdb4b1b394f8dc7856ac140e2fbdb</td></tr><tr><td style="text-align:left;">sha1</td><td style="text-align:left;">20ms</td><td>0777e65066dca985569fa892fa88e21b45dc656d</td></tr><tr><td style="text-align:left;">sha256</td><td style="text-align:left;">21ms</td><td>5e4aea76f93ee87f422fcbd9458edad0e33ddf256d5d93bcc47977e33cb1654c</td></tr><tr><td style="text-align:left;">sha512</td><td style="text-align:left;">23ms</td><td>94249ec2f83b006354774dd8f8ec81125ea9e1e00f94393d8b20bbd7678e63db53fab6af125e139f9257fd7dbb6c69474e443d059903a9cb2dded03a94c8143</td></tr></tbody></table><h2 id="event事件模块" tabindex="-1">Event事件模块 <a class="header-anchor" href="#event事件模块" aria-label="Permalink to &quot;Event事件模块&quot;">​</a></h2><blockquote><p>Event模块是一个简单的事件监听器模式的实现，具有<code>addListener/on</code>，<code>once</code>,<code>removeListenter</code>、<code>removeAllListener</code>、<code>emit</code>等基本的事件监听模式方法的实现。它与前端DOM树上的事件并不相同，因为它不存在冒泡，逐层捕获等属于DOM的事件行为，也没有<code>preventDefault()</code>、<code>stopPropagation()</code>等处理事件传递的方法。（<strong>只要看到其他模块上有事件，必然继承event模块</strong>）</p></blockquote><p><strong>事件模块加载</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> emitter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;events&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p><strong>实例化eventEmitter对象</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">注</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/// 引入 events 模块</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> events</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;events&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 创建 eventEmitter 对象</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eventEmitter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EventEmitter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p><strong>事件方法</strong></p><table tabindex="0"><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><code>addListener(event, listener)</code></td><td>为指定事件添加一个监听器到监听器数组的尾部。</td></tr><tr><td><code>on(event, listener)</code></td><td>为指定事件注册一个监听器，接受一个字符串 event 和一个回调函数。</td></tr><tr><td><code>once(event, listener)</code></td><td>为指定事件注册一个单次监听器，即 监听器最多只会触发一次，触发后立刻解除该监听器。</td></tr><tr><td><code>removeListener(event, listener)</code></td><td>移除指定事件的某个监听器，监听器 必须是该事件已经注册过的监听器。</td></tr><tr><td><code>removeAllListeners([event])</code></td><td>移除所有事件的所有监听器， 如果指定事件，则移除指定事件的所有监听器。</td></tr><tr><td><code>setMaxListeners(n)</code></td><td>默认情况下， EventEmitters 如果你添加的监听器超过 10 个就会输出警告信息。 setMaxListeners 函数用于提高监听器的默认限制的数量。</td></tr><tr><td><code>listeners(event)</code></td><td>返回指定事件的监听器数组。</td></tr><tr><td><code>emit(event, [arg1], [arg2], [...])</code></td><td>按参数的顺序执行每个监听器，如果事件有注册监听返回 true，否则返回 false。</td></tr><tr><td><code>listenerCount(event)</code></td><td>返回指定事件的监听器数量。</td></tr></tbody></table><p>使用事件</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">注</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EventEmitter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;events&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Person</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EventEmitter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> xiaohong </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Person</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;小红&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xiaohong.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;say&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;喜欢说话!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xiaohong.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;say&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>异步与同步</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EventEmitter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;events&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Person</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EventEmitter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> xiaohong </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Person</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;小红&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xiaohong.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;say&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> that </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setImmediate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(that.name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;喜欢说话!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xiaohong.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;say&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="stream流模块⭐" tabindex="-1">Stream流模块⭐ <a class="header-anchor" href="#stream流模块⭐" aria-label="Permalink to &quot;Stream流模块⭐&quot;">​</a></h2><blockquote><p>流：流是一种抽象的数据结构，指从一个位置向另一个位置传输的一连串数据的集合。</p><p>Stream是Node.js中处理数据的抽象接口，Node中有很多对象实现了这个接口。 例如：对http服务器发起请求的request对象就是一个Stream,还有stdout(标准输出)</p><p>流就是用来处理大容量的文件，读取与写入问题</p></blockquote><p><strong>Stream的作用</strong></p><p>传统程序在执行过程中,会边读边写，读写的速度不一样会导致数据丢失；且内存受限，读取存取速度有限。采用流以后程序会读一部分写一部分，保障数据不缺失。</p><p>Stream的作用如下：</p><ul><li>保证程序运行效率</li><li>防止数据丢失</li><li>防止内存的溢出</li></ul><p><strong>stream加载</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> stream</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;stream&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>Node.js 中有四种基本的流类型：</p><ul><li>Readable - 读取流,可以从中读取数据的流 （例如 fs.createReadStream()）</li><li>Writable - 写入流,可以写入数据的流 （例如写 fs.createWriteStream()）</li><li>Duplex - 双工流 (例如 net.Socket)</li><li>Transform -转换流 (操作被写入数据，然后读出结果) (例如 zlib.createDeflate())</li></ul><p><strong>readStream 读取流</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createReadStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path,[opts]);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//创建可读流</span></span></code></pre></div><p>参数</p><ul><li><p>path 创建读取流指定的文件路径</p></li><li><p>opts</p><ul><li>flags 对文件采取何种操作,默认为 &#39;r&#39;</li><li>encoding 指定 编码 ，默认为null</li><li>start 用整数表示文件 开始 读取的字节数的索引位置</li><li>end 用整数表示文件 结束 读取的字节数的索引位置(包括end位置)</li><li>highWaterMark 最高水位线，停止从底层资源读取前内部缓冲区最多能存放的字节数。缺省为 64kb</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;encoding&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;utf-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;start&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;end&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;highWaterMark&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><p>事件</p><ul><li>data 当数据读取的时候</li><li>end 没有更多的数据可读时触发</li><li>error 当发生错误时候触发</li></ul><p>方法</p><ul><li>setEncoding 指定 编码</li><li>pause() 读取数据暂停(什么时候暂停？读入流大于写入流调用)</li><li>resume() 通知对象 恢复 触发data事件继续读取数据</li><li>pipe() 管道 由读取流安全的传输到下一个流</li></ul><p><strong>writeStream 写入流</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createWriteStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path,[opts]);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//创建一个可写入流</span></span></code></pre></div><ul><li>path 读取的文件路径</li><li>options <ul><li>flags 对文件采取何种 操作 ,默认为 &#39;w&#39;</li><li>encoding 指定 编码 ，默认为null</li><li>autoClose 是否 关闭 文件描述符</li><li>start 用整数表示文件 开始 字节数的写入位置</li><li>highWaterMark 最高水位线，write()开始返回 false 的 缓冲大小 。缺省为 16kb</li></ul></li></ul><p>事件</p><ul><li>drain 当前内存数据完全都写入流的时候触发</li><li>finish 当数据全部都写完后触发</li></ul><p>方法:write()、end()</p><ul><li>write()</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>write(chunk,[encoding],[callback])</span></span></code></pre></div><p>要往写入流写入数据的时候触发</p><ul><li><p>参数</p><ul><li><p>chunk 要 写入 的数据，Buffer或字符串对象，必须指定</p></li><li><p>encoding 写入 编码 ，chunk为字符串时有用，可选</p></li><li><p>callback 写入成功后的 回调</p><p>返回值为布尔值，系统缓存区定满时为false,未满时为true</p></li></ul></li><li><p>end()</p></li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>writable.end(chunk,[encoding],[callback]);</span></span></code></pre></div><p>在写入文件时，当不再需要写入数据时可调用该方法关闭文件。 迫使系统缓存区的数据立即写入文件中。</p><p><strong>管道流</strong></p><p>管道流pipe() 方法的初衷，是将数据的滞留量限制到一个可接受的水平，以使得不同速度的来源和目标不会淹没可用内存。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">readStream.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(writeStream,[options]);</span></span></code></pre></div><p>options</p><ul><li>end 为true时表示数据读取完毕后立刻将缓存区中的数据写入目 标文件并 关闭 文件 无论哪一种流，都会使用.pipe()方法来实现输出和输出。</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createReadStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createWriteStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre></div><p>.pipe()函数很简单，它仅仅是接受一个源头src并将数据输出到一个可写的流dst中：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>src.pipe(dst)</span></span></code></pre></div><p>.pipe(dst)将会返回dst因此你可以链式调用多个流:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>a.pipe(b).pipe(c).pipe(d)</span></span></code></pre></div><p>上面的代码也可以等价为：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>a.pipe(b);</span></span>
<span class="line"><span>b.pipe(c);</span></span>
<span class="line"><span>c.pipe(d);</span></span></code></pre></div><h2 id="http模块⭐" tabindex="-1">http模块⭐ <a class="header-anchor" href="#http模块⭐" aria-label="Permalink to &quot;http模块⭐&quot;">​</a></h2><blockquote><p>nodejs提供了http模块，自身就可以用来构建服务器，而且http模块是由C++实现的，性能可靠。</p></blockquote><p>使用http模块时，需要通过以下方法来引入：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> http</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)。</span></span></code></pre></div><p>创建服务器并监听(搭建一个简单的HTTP服务器)</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//导入http模块</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> http </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//创建一个http服务器</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> server </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> http.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//req请求 res响应</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//向客户的发送数据 只能为字符串或Buffer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;world&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//向客户的发送数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//发送结束</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//监听指定端口号（HTTP默认端口号为80，但是也可以改为8080或者其他端口。）</span></span></code></pre></div><p><strong>Request对象(可读流 ： 可以监听事件<code>req.on(data,function)</code>/<code>req.on(&quot;end&quot;,function)</code>）)</strong></p><table tabindex="0"><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td>request.url</td><td>客户端请求的url地址，如<a href="http://127.0.0.1/hello/world%EF%BC%8C%E9%82%A3%E4%B9%88request.url%E5%B0%B1%E6%98%AF/hello/world" target="_blank" rel="noreferrer">http://127.0.0.1/hello/world，那么request.url就是/hello/world</a></td></tr><tr><td>request.headers</td><td>客户端请求的http header</td></tr><tr><td>request.method</td><td>获取请求的方式，一般有几个选项，POST,GET和DELETE等，服务器可以根据客户端的不同请求方法进行不同的处理。</td></tr></tbody></table><p><strong>Response对象（可写流 ： 可以监听事件<code>res.on(data,function)</code>/<code>res.on(&quot;end&quot;,function)</code>）</strong></p><table tabindex="0"><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td>res.writeHead</td><td>response.writeHead(statusCode, [reasonPhrase], [headers]) res.writeHead(200,{Content-Type:&#39;text/plain&#39;});</td></tr><tr><td>res.removeHeader(&quot;Date&quot;)</td><td>从隐式发送的队列中移除一个响应头。</td></tr><tr><td>res.setTimeout(msecs, callback)</td><td>设置http超时返回的时间，一旦超过了设定时间，连接就会被丢弃</td></tr><tr><td>res.statusCode</td><td>设置返回的网页状态码</td></tr><tr><td>res.setHeader(name, value)</td><td>设置http协议头</td></tr><tr><td>res.headersSent</td><td>返回一个布尔值（只读）。 如果响应头已被发送则为 true，否则为 false。</td></tr><tr><td>res.write(chunk, [encoding])</td><td>返回的网页数据，[encoding] 默认是 utf-8</td></tr><tr><td>res.end([data], [encoding])</td><td>将设置的数据包，发送数据到客户端(完成响应)。</td></tr></tbody></table><p>1.搭建基本Web服务器</p><p>2.处理URL</p><ul><li><p>req.url、url.querystring</p></li><li><p>req.headers.host</p></li><li><p>URL 类 处理URL new URL</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> urlobj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">req.headeers.host</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">req.url) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">urlobj.query</span></span></code></pre></div></li></ul><p>3.客户端请求服务器方式------处理GET请求/处理POST请求（浏览器与服务器通信）</p><ul><li><p>1.浏览器 发get请求（浏览器给服务器 发请求）</p><ul><li>地址栏输入地址，回车，发get请求(主动发送)</li><li>页面加载过程中，若发现link script img audio video 等标签，浏览器发送get请求获取资源（被动自动发送）</li><li>注意：get、post、put发送的数据 会发送到 req.query或req.body或者req.params里 <ul><li>get<code>http://localhost:3000/admin?name=123&amp;num=555</code>=&gt; 通过url传参 =&gt; req.query 查询字符串</li><li>post、put =&gt; form表单收集数据 =&gt; req.body</li><li>还有<code>URL:/list/ty =&gt;path: /users/:cath</code> =&gt; 路由路径传参 =&gt;req.params</li></ul></li></ul></li><li><p>2.表单（收集数据将数据发送请求提交 给 服务器）</p><ul><li><p><code> &lt;form action=&quot;&quot; enctype=&quot;&quot; method=&quot;&quot;&gt;&lt;/form&gt;</code></p></li><li><p>action:提交数据的URL（服务器某个地址）</p></li><li><p>method（请求方式）：</p><ul><li><p>GET(得)</p><p>提交数据 是将数据编码作为URL查询字符串，添加在url上</p><p>application/x-www-form-urlencoded</p><p><a href="http://xxxx/?key=val&amp;key=val&amp;" target="_blank" rel="noreferrer">http://xxxx/?key=val&amp;key=val&amp;</a>...</p></li><li><p>POST(给)</p><p>提交数据 将数据编码添加到http请求体</p><p>application/x-www-form-urlencoded</p><p>请求体数据：key=val&amp;key=val&amp;....</p><p>multipart/form-data编码，POST支持</p></li></ul></li><li><p>enctype:提交数据的编码格式</p><ul><li><p>编码格式1：application/x-www-form-urlencoded（只支持字符串）</p><p>key=val&amp;key=val&amp;……</p></li><li><p>编码格式2:multipart/form-data（只有post支持）</p><p>提交字符串数据、文件数据，只能添加至请求体</p></li><li><p>请求头部信息如下:</p><p>Content-Type</p></li></ul></li></ul></li><li><p>3.ajax 客户端与服务器通信方式之一</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> xhr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> XMLHttpRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   xhr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(请求方法,请求URL,请求方式[同步</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">异步])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   xhr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(数据)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   xhr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onreadystatechange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">       if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(xhr.readystate </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(xhr.status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               xhr.response</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   }</span></span></code></pre></div><ul><li><p>请求方法 GET、POST、PUT、DELETE</p><ul><li><p>GET、DELETE 没有请求体</p></li><li><p>POST、PUT 有请求体</p></li><li><p>GET:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">： application</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">www</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">form</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">urlencoded</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     xhr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(请求方法,http:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//xxx/?key=val&amp;....)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     xhr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div></li><li><p>POST：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xhr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(请求方法,http:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//xxx/)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     xhr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(数据)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       application</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">www</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">form</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">urlencoded</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       multipart</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">form</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data  字符串、文件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          var fd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FormData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          fd.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;key&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;val&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></li></ul></li></ul></li></ul><h2 id="操作系统os模块" tabindex="-1">操作系统os模块 <a class="header-anchor" href="#操作系统os模块" aria-label="Permalink to &quot;操作系统os模块&quot;">​</a></h2><blockquote><p>os 模块提供了与操作系统相关的实用方法和属性</p></blockquote><p><strong>使用</strong></p><p>我们可以通过以下方式引入该模块：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>var os = require(&quot;os&quot;)</span></span></code></pre></div><p><strong>属性</strong></p><table tabindex="0"><thead><tr><th style="text-align:left;">属性名</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">os.EOL</td><td style="text-align:left;">返回操作系统特定的行末标志，可能返回的值为&#39;\\n&#39;</td></tr></tbody></table><p><strong>方法</strong></p><table tabindex="0"><thead><tr><th style="text-align:left;">方法</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">os.tmpdir()</td><td style="text-align:left;">该方法用于获取操作系统中默认的用于存放临时文件的目录。</td></tr><tr><td style="text-align:left;">os.endianness()</td><td style="text-align:left;">该方法用于获取CPU的字节序（endianness），可能返回的值为“BE” 或 “LE”。</td></tr><tr><td style="text-align:left;">os.hostname()</td><td style="text-align:left;">该方法用于返回操作系统的主机名。</td></tr><tr><td style="text-align:left;">os.type()</td><td style="text-align:left;">该方法用于获取操作系统类型。在 Linux 上返回 &#39;Linux&#39;，在 macOS 上返回 &#39;Darwin&#39;，在 Windows 上返回 &#39;Windows_NT&#39;。</td></tr><tr><td style="text-align:left;">os.platform()</td><td style="text-align:left;">该方法用于获取操作系统平台,可能返回的值为&#39;darwin&#39;、&#39;linux&#39;、&#39;win32&#39;</td></tr><tr><td style="text-align:left;">os.arch()</td><td style="text-align:left;">该方法用于获取操作系统 CPU 架构，可能的值有 &quot;x64&quot;、&quot;arm&quot; 和 &quot;ia32&quot;。</td></tr><tr><td style="text-align:left;">os.release()</td><td style="text-align:left;">该方法用于获取操作系统的发行版本。</td></tr><tr><td style="text-align:left;">os.uptime()</td><td style="text-align:left;">该方法用于获取系统的当前运行时间，单位为秒。</td></tr><tr><td style="text-align:left;">os.loadavg()</td><td style="text-align:left;">该方法返回一个数组，其中存放了1分钟、5分钟及15分钟的系统平均负载。</td></tr><tr><td style="text-align:left;">os.totalmem()</td><td style="text-align:left;">该方法返回系统的总内存量，单位为字节。</td></tr><tr><td style="text-align:left;">os.freemem()</td><td style="text-align:left;">该方法返回系统的空闲内存量，单位为字节。</td></tr><tr><td style="text-align:left;">os.cpus()</td><td style="text-align:left;">该方法返回一个数组，包含所安装的每个 CPU/内核的信息：型号、速度（单位 MHz）、时间（一个包含 user、nice、sys、idle 和 irq 所使用 CPU/内核毫秒数的对象）。</td></tr><tr><td style="text-align:left;">os.networkInterfaces()</td><td style="text-align:left;">该方法返回一个数组，其中存放了系统中的所有网络接口。</td></tr></tbody></table>`,108)])])}const y=a(e,[["render",p]]);export{o as __pageData,y as default};
