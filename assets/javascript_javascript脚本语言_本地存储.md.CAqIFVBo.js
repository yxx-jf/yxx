import{_ as i,c as a,o as t,ae as e}from"./chunks/framework.DJWEhhqZ.js";const g=JSON.parse('{"title":"本地存储","description":"","frontmatter":{},"headers":[],"relativePath":"javascript/javascript脚本语言/本地存储.md","filePath":"javascript/javascript脚本语言/本地存储.md"}'),l={name:"javascript/javascript脚本语言/本地存储.md"};function n(k,s,h,p,o,r){return t(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="本地存储" tabindex="-1">本地存储 <a class="header-anchor" href="#本地存储" aria-label="Permalink to &quot;本地存储&quot;">​</a></h1><p>本地存储的方式：</p><ul><li><p>cookie</p><blockquote><p>Cookie 是由 Web 服务器保存在用户浏览器（客户端）上的小文本文件，它可以包含有关用户的信息。无论何时用户链接到服务器，Web 站点都可以访问 Cookie 信息。每个cookie不能超过 4KB，每个 Web 站点能设置的 Cookie 总数不能超过 20 个</p></blockquote></li><li><p>localStorage</p><blockquote><p>H5客户端存储是web存储的一种更为强大的版本，可提供更多的安全性、速度和易用性。在 Web 中可以存储数量巨大的数据。具体的数量则取决于 Web 浏览器，但通常都在 5MB 到10MB 之间，这对于一个 HTML应用程序而言已经足够大。另一个好处是此数据并不会在每次出现服务器请求时都被加载。</p></blockquote></li><li><p>sessionStorage</p><blockquote><p>针对一个 session 的数据存储，任何一个页面存储的信息在窗口中同一域下的页面都可以访问它存储的数据。每个窗口的值都是独立的，它的数据会因窗口的关闭而丢失，不同窗口间的sessionStorage是不可以共享的。</p></blockquote></li></ul><h2 id="cookie" tabindex="-1">cookie <a class="header-anchor" href="#cookie" aria-label="Permalink to &quot;cookie&quot;">​</a></h2><blockquote><p>注意：cookie使用时需要服务器环境</p></blockquote><p>键值对的方式设置：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.cookie </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;键=值&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.cookie </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;=&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value;    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//设置cookie</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 设置cookie的有效时间</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setHours</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getHours</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">24</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//保存一个月</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.cookie </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;visited=yes; expires=&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toUTCString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 读取cookie</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.cookie.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">indexOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//返回值 -1表示不存在此cookie</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//删除cookie     原理：通过设置cookie的有效时间来删除cookie</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> exp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">exp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(exp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.cookie</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;=&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cval</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;;expires=&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">exp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toUTCString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h2 id="localstorage" tabindex="-1">localStorage <a class="header-anchor" href="#localstorage" aria-label="Permalink to &quot;localStorage&quot;">​</a></h2><table tabindex="0"><thead><tr><th>属性方法</th><th>描述</th></tr></thead><tbody><tr><td>localStorage.length</td><td>本地存储的个数</td></tr><tr><td>localStorage.key=value</td><td>设置键值对</td></tr><tr><td>localStorage.setItem(key,value)</td><td>设置/添加键值对</td></tr><tr><td>localStorage.getItem(key)</td><td>获取键值</td></tr><tr><td>localStorage.removeItem(key)</td><td>移除键值对</td></tr><tr><td>localStorage.clear()</td><td>清空所有存储数据</td></tr></tbody></table><h2 id="sessionstorage" tabindex="-1">sessionStorage <a class="header-anchor" href="#sessionstorage" aria-label="Permalink to &quot;sessionStorage&quot;">​</a></h2><table tabindex="0"><thead><tr><th>属性方法</th><th>描述</th></tr></thead><tbody><tr><td>sessionStorage.length</td><td>短期存储的个数</td></tr><tr><td>sessionStorage.key=value</td><td>设置键值对</td></tr><tr><td>sessionStorage.setItem(key,value)</td><td>设置/添加键值对</td></tr><tr><td>sessionStorage.getItem(key)</td><td>获取键值</td></tr><tr><td>sessionStorage.removeItem(key)</td><td>移除键值对</td></tr><tr><td>sessionStorage.clear()</td><td>清空所有存储数据</td></tr></tbody></table><p>cookie、localStorage和sessionStorage的区别与联系：</p><ul><li>都是用来本地存储，同源&lt;<strong>协议/域名/端口都相同</strong>&gt;</li><li>存储方式不同 <ul><li>cookie携带在域名后面</li><li>localStorage和sessionStorage直接存储在浏览器</li></ul></li><li>存储数据大小 <ul><li>cookie只能保存4kb</li><li>localStorage和sessionStorage可以保存5M</li></ul></li><li>数据有效期不同 <ul><li>cookie超过设置的时间才会过期</li><li>sessionStorage只要浏览器关掉就消失</li><li>localStorage永久保留，除非手动移除</li></ul></li></ul>`,13)])])}const E=i(l,[["render",n]]);export{g as __pageData,E as default};
