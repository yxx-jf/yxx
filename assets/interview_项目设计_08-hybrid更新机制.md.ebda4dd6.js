import{_ as e,c as i,o as r,a as d}from"./app.f7b0898d.js";const a="/img/hybrid1.png",h="/img/hybrid2.png",m=JSON.parse('{"title":"hybrid 更新机制","description":"","frontmatter":{},"headers":[{"level":2,"title":"题目","slug":"题目","link":"#题目","children":[]},{"level":2,"title":"hybrid 运作流程","slug":"hybrid-运作流程","link":"#hybrid-运作流程","children":[]},{"level":2,"title":"上传新版本的 hybrid 包","slug":"上传新版本的-hybrid-包","link":"#上传新版本的-hybrid-包","children":[]},{"level":2,"title":"延迟使用","slug":"延迟使用","link":"#延迟使用","children":[]},{"level":2,"title":"答案","slug":"答案","link":"#答案","children":[]}],"relativePath":"interview/项目设计/08-hybrid更新机制.md"}'),l={name:"interview/项目设计/08-hybrid更新机制.md"},t=d('<h1 id="hybrid-更新机制" tabindex="-1">hybrid 更新机制 <a class="header-anchor" href="#hybrid-更新机制" aria-hidden="true">#</a></h1><h2 id="题目" tabindex="-1">题目 <a class="header-anchor" href="#题目" aria-hidden="true">#</a></h2><p>请设计一个 hybrid 包的更新流程</p><h2 id="hybrid-运作流程" tabindex="-1">hybrid 运作流程 <a class="header-anchor" href="#hybrid-运作流程" aria-hidden="true">#</a></h2><p><img src="'+a+'" alt="" data-fancybox="gallery"></p><p>小提示：hybrid html 中 ajax 请求的 url 不能省略协议名称（如 <code>//xxx.com/api/getInfo</code>），否则会默认以 <code>file</code> 协议请求。必须明确协议名称 <code>http</code> 或者 <code>https</code>。</p><h2 id="上传新版本的-hybrid-包" tabindex="-1">上传新版本的 hybrid 包 <a class="header-anchor" href="#上传新版本的-hybrid-包" aria-hidden="true">#</a></h2><p>hybrid 包是需要实时更新的，就跟 H5 网上上线一样。更新之后，App 要下载、使用最新版本的 hybrid 包。</p><p><img src="'+h+'" alt="" data-fancybox="gallery"></p><p>何时触发检查、下载最新版本呢？有两种选择</p><ul><li>App 启动时检查、下载</li><li>实时检查、下载（如每隔 5min）</li></ul><h2 id="延迟使用" tabindex="-1">延迟使用 <a class="header-anchor" href="#延迟使用" aria-hidden="true">#</a></h2><p>以上两种时机，都会遇到一个问题：如果检查到最新版本，立刻下载使用，可能会影响的性能。 为了避免这个影响，可以考虑“延迟使用”。</p><ul><li>检测到新版本，先后台下载，目前先使用旧版本</li><li>待现在完成，再替换为新版本使用</li></ul><h2 id="答案" tabindex="-1">答案 <a class="header-anchor" href="#答案" aria-hidden="true">#</a></h2><ul><li>hybrid 基本概念，和基本流程</li><li>最新包的延迟使用</li></ul>',16),n=[t];function c(s,o,p,_,b,y){return r(),i("div",null,n)}const f=e(l,[["render",c]]);export{m as __pageData,f as default};
