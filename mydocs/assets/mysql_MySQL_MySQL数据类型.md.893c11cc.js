import{_ as s,c as a,o as t,a as n}from"./app.f7b0898d.js";const u=JSON.parse('{"title":"MySQL数据类型","description":"","frontmatter":{},"headers":[{"level":2,"title":"数值型","slug":"数值型","link":"#数值型","children":[]},{"level":2,"title":"字符型列","slug":"字符型列","link":"#字符型列","children":[]},{"level":2,"title":"日期时间列类型","slug":"日期时间列类型","link":"#日期时间列类型","children":[]}],"relativePath":"mysql/MySQL/MySQL数据类型.md"}'),l={name:"mysql/MySQL/MySQL数据类型.md"},e=n(`<h1 id="mysql数据类型" tabindex="-1">MySQL数据类型 <a class="header-anchor" href="#mysql数据类型" aria-hidden="true">#</a></h1><blockquote><p>每一个常量、变量和参数都有数据类型，它用来指定一定的存储格式、约束和有效范围。MySQL提供了多种数据类型，主要包括数值型、字符串类型、日期和时间型。</p></blockquote><p>大致分为3类：</p><ol><li>数值型：整型，浮点型，定点型</li><li>字符串：char 定长,varchar 不定长,text</li><li>日期时间类型 2012-12-13 14：26：23</li></ol><h2 id="数值型" tabindex="-1">数值型 <a class="header-anchor" href="#数值型" aria-hidden="true">#</a></h2><p><strong>整型</strong></p><p>创建了tmp表，id int</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">insert into number values(1,&#39;lili&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>那么这个1在磁盘中占几个字节？4个字节。 1个字节 == 8 位 每个位上有 0，1 两种可能</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">0000 0000</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>那么4个字节int型，在磁盘中存1是如下：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">00000000 00000000 00000000 00000001</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>int型存储的范围是多少？</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">11111111 11111111 11111111 111111111</span></span>
<span class="line"><span style="color:#A6ACCD;">0 ~ 2^32-1  [40多亿]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><table><thead><tr><th>类型</th><th>字节</th><th>最小值</th><th>最大值</th></tr></thead><tbody><tr><td></td><td></td><td>带符号/无符号</td><td>带符号/无符号</td></tr><tr><td>tinyint</td><td>1</td><td>-128</td><td>127</td></tr><tr><td></td><td>1</td><td>0</td><td>255</td></tr><tr><td>smallint</td><td>2</td><td>-32768</td><td>32767</td></tr><tr><td></td><td>2</td><td>0</td><td>65535</td></tr><tr><td>mediumint</td><td>3</td><td>-8388608</td><td>8388607</td></tr><tr><td></td><td>3</td><td>0</td><td>16777215</td></tr><tr><td>int</td><td>4</td><td>-2147483648</td><td>2147483647</td></tr><tr><td></td><td>4</td><td>0</td><td>4294967295</td></tr><tr><td>bigint</td><td>8</td><td>-922337203654775808</td><td>922337203654775807</td></tr><tr><td></td><td>8</td><td>0</td><td>18446744073709551615</td></tr></tbody></table><p><em><strong>创建表，默认是有符号类型额，如果我们有一列年龄，不需要负数，则可以设置属性 unsigned 无符号</strong></em></p><p>例如：人类年龄：tinyint 无符号</p><p>整型列可选参数</p><ol><li><p>unsigned 无符号,列的值从0开始，不为负值</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">create table number(</span></span>
<span class="line"><span style="color:#A6ACCD;"> num tinyint</span></span>
<span class="line"><span style="color:#A6ACCD;"> )</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into number values(255);</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into number values(-128);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>创建表，默认是有符号类型额，如果我们有一列年龄，不需要负数，则可以设置属性 unsigned 无符号</p></li></ol><p>给number表增加一个无符号类型的列</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">alter table number add num2 tinyint unsigned;</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into number (num2) values(255);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol><li><p>zerofill 零填充 适合用于 学号，编码等，固定宽度的数字，可以用0填充到固定宽度 zerofill填充到多宽，由M值来确定</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">学号  1  ===&gt; 0001</span></span>
<span class="line"><span style="color:#A6ACCD;">学号  112  ===&gt; 0112</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>给number表，增加一个学号列</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">alter talbe number add sid tinyint(5) zerofill;</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into number (sid) values(1);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>注意：一般零填充的数字，都不是负值</p></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">desc number;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>number表的sid列为unsigned类型。 注意：zerofill属性默认决定列为unsigned。 M值必须跟unsigned配合使用。</p><p>M值指的是我们插入数据填充的宽度，不是限制我们插入数字的范围。不用0填充，M参数可不写。</p><p><em><strong>float 浮点型</strong></em></p><blockquote><p>double 范围更大的浮点型 decimal 定点型</p></blockquote><blockquote><ul><li>float 单精度浮点型</li><li>double 双精度浮点型</li><li>decimal 定点型</li></ul></blockquote><ol><li><p>存小数 float -3.402823466E+38 到 -1.175494351E-38 、 0 和 1.175494351E-38 到 3.402823466E+38 。 这些是理论限制，基于 IEEE 标准。实际的范围根据硬件或操作系统的不同可能稍微小些。 double 更大 , 没必要去记忆他们的范围 , 除非搞天文</p></li><li><p>float, (M,D ) ,double(M,D) FLOAT[(M,D)] [UNSIGNED] [ZEROFILL] 整型的 M 遇到 zerofill 才会起作用 float 的 M 和 D 只要设置 , 就会立即起作用 M 是精度 , 总位数 , D 标度 , 小数点后面的位数 float(5,2) -999.99 ~~ 999.99, 分别用范围之外的数字测试 float 和 double 区别知识存储范围</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">create table t4(</span></span>
<span class="line"><span style="color:#A6ACCD;">money float(5,2);</span></span>
<span class="line"><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into t4 values (9999);</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into t4 values (999.99);</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into t4 values (1000);</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into t4 values (-999.99);</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into t4 values (-1000);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></li><li><p>decimal(M,D) 定点 1) 创建 float(9,2),decimal(9,2) 并测试</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">create table t5(</span></span>
<span class="line"><span style="color:#A6ACCD;">f float(9,2),</span></span>
<span class="line"><span style="color:#A6ACCD;">d decimal(9,2)</span></span>
<span class="line"><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>给 t5 表插入数据</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">insert into t5 values (1234567.23,1234567.23);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>查询 t5 表的内容</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">select * from t5;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>我们可以清晰的看到 ,f 列 , 我们插入的数据跟显示的数据是不同的 float/double , 有精度损失 decimal 定点型 , 更精确</p></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">定点型 , 是将整数部分和小数部分用分别用数字来存储的 , 所以定点型更精确</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="字符型列" tabindex="-1">字符型列 <a class="header-anchor" href="#字符型列" aria-hidden="true">#</a></h2><p>字符型 : char varchar text/blob enum</p><p>char 定长存储内容</p><p>varchar 变长存储内容</p><p>char 和 varchar 有什么区别呢 ?</p><p>就如投币公交与按站收费的长途公交的区别 char(M),varchar(M) 假设 M 是 10,10 个字符的宽度</p><ol><li>char(10); 定长 给定列 10 个字符的宽度 , 最多能存 10 个字符 如果我们 insert 一个字符，那这一个字符也占据 10 个字符的宽度 char 就好比你去吃自助餐 , 吃一次 50,那吃多吃少你都要花 50 元</li><li>varchar(10); 变长 给定列 10 个字符的宽度 , 最多能存 10 个字符 如果我们 insert 一个字符 那么这一个字符占据多少个字符宽度 ? 肯定不会不会是占据 1 个字符的宽度 , 用多少占多少 , 利用率 100%, 就没有 char 存在的必要了</li></ol><p>注意：char(M),varchar(M), 限制的是字符 , 不是字节</p><ol><li>char/varchar 最大可存多少个字符 : CHAR 列的长度固定为创建表时声明的长度。长度可以为从 0 到 255 的任何值。 VARCHAR 列中的值为可变长字符串。长度可以指定为 0 到 65,535 之间的值。 (VARCHAR 的最大有效长度由最大行大小和使用的字符集确定。整体最大 长度是 65,532）。</li><li>text 文本类型 TEXT[(M)] 可以存比较大的文本段 , 搜索速度稍慢 因此 , 如果不是特别大的内容 , 建议用 char,varchar 来代替 最大长度为 65,535(2^16–1) 字符的 TEXT 列。</li></ol><h2 id="日期时间列类型" tabindex="-1">日期时间列类型 <a class="header-anchor" href="#日期时间列类型" aria-hidden="true">#</a></h2><table><thead><tr><th style="text-align:left;">类型</th><th style="text-align:left;">字节</th><th style="text-align:left;">描述</th><th style="text-align:left;">示例</th><th>范围</th></tr></thead><tbody><tr><td style="text-align:left;">year</td><td style="text-align:left;">1</td><td style="text-align:left;">年</td><td style="text-align:left;">95/1995</td><td>[1901-2155]</td></tr><tr><td style="text-align:left;">date</td><td style="text-align:left;">4</td><td style="text-align:left;">日期</td><td style="text-align:left;">1998-12-31</td><td>1000/01/01 ~ 9999/12/31</td></tr><tr><td style="text-align:left;">time</td><td style="text-align:left;">3</td><td style="text-align:left;">时间</td><td style="text-align:left;">13:56:23</td><td>-838:59:59 -&gt; 838:59:59</td></tr><tr><td style="text-align:left;">datetime</td><td style="text-align:left;">8</td><td style="text-align:left;">日期时间</td><td style="text-align:left;">1998-12-31 13:56:23</td><td>1000/01/01 00:00:00 -&gt; 9999:12:31 23:59:59</td></tr><tr><td style="text-align:left;">timestamp</td><td style="text-align:left;">4</td><td style="text-align:left;">时间戳是 1970-01-01 00:00:00 到当前的秒数</td><td style="text-align:left;">1539227150</td><td>197001010080001 到 2038年的某个时间</td></tr></tbody></table><ul><li>year 如果只是表示年份，可以使用year来表示，它比Date占用更少的空间。year有2位或4位格式年。默认是4位格式。</li></ul><p>在4位格式中，取值范围是1901 - 2155 在2位格式中，取值范围是70-69，表示1970-2069</p><p>在 insert 是 , 可以简写面的后 2 位 , 但是不推荐这样 如果我们只写两位 , 计算年份按 : [00-69]+2000 [70-99]+1900 即 : 填 2 位 , 表示 1970-2069</p><ul><li>时间戳 是 1970-01-01 00:00:00 到当前的秒数 一般存储注册时间 , 商品发布时间等 , 并不是用 datetime 存储 , 而是用时间戳 因为 datetime 虽然直观 , 但计算不便</li></ul><p>示例：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">create table t12 (</span></span>
<span class="line"><span style="color:#A6ACCD;">ye year,</span></span>
<span class="line"><span style="color:#A6ACCD;">dt date,</span></span>
<span class="line"><span style="color:#A6ACCD;">tm time,</span></span>
<span class="line"><span style="color:#A6ACCD;">dttm datetime</span></span>
<span class="line"><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">//1. year</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into t12 (ye) values (1901);</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into t12 (ye) values (07);</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into t12 (ye) values (77);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">//2. date</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into t12 (dt) values (&#39;1990-12-23&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">//3. time</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into t12 (tm) values (&#39;12:23:59&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">//4. datetime</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into t12 (dttm) values (&#39;1992-12-31 12:23:59&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>timestamp 时间戳 如果我们插入改行 , 时间戳这列会自动插入当前时间戳 当我们更改这行数据时 ,timestamp 列会自动更改时间为更改数据时的时间戳</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">create table t13 (</span></span>
<span class="line"><span style="color:#A6ACCD;">id int,</span></span>
<span class="line"><span style="color:#A6ACCD;">tt timestamp</span></span>
<span class="line"><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">insert into t13 (id) values (1);</span></span>
<span class="line"><span style="color:#A6ACCD;">select * from t13;</span></span>
<span class="line"><span style="color:#A6ACCD;">update t13 set id=2 where id=1;</span></span>
<span class="line"><span style="color:#A6ACCD;">select * from t13;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>timestamp格式列，可以设置默认值 CURRENT_TIMESTAMP（系统日期），插入数据默认为系统时间。</p><blockquote><p>注意：在MySQL中规定只能有一列的默认值为current_timestamp,如果强制修改，系统会报错误提示。</p></blockquote>`,51),p=[e];function i(o,c,d,r,C,y){return t(),a("div",null,p)}const g=s(l,[["render",i]]);export{u as __pageData,g as default};
